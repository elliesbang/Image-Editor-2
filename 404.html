<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>페이지를 찾을 수 없습니다 · Ellie's Bang 이미지 에디터</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root {
        color-scheme: light dark;
      }
      body {
        margin: 0;
        font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        display: grid;
        place-content: center;
        min-height: 100vh;
        padding: 2rem;
        background: #0f172a;
        color: #f8fafc;
        text-align: center;
      }
      main {
        max-width: 32rem;
        padding: 2.5rem 2rem;
        border-radius: 1.5rem;
        background: rgba(15, 23, 42, 0.8);
        backdrop-filter: blur(18px);
        box-shadow: 0 25px 60px rgba(15, 23, 42, 0.55);
      }
      h1 {
        margin: 0 0 1rem;
        font-size: 1.75rem;
      }
      p {
        margin: 0.5rem 0;
        line-height: 1.5;
      }
      a {
        color: #38bdf8;
      }
    </style>
    <script>
      (function () {
        var REDIRECT_KEY = 'elliesbang:spa-redirect';
        var BASE_KEY = 'elliesbang:base-path';
        var path = window.location.pathname + window.location.search + window.location.hash;

        try {
          window.sessionStorage.setItem(REDIRECT_KEY, path);
        } catch (error) {
          console.warn('SPA 경로 정보를 저장하지 못했습니다.', error);
        }

        var storedBase = '/';
        try {
          var sessionBase = window.sessionStorage.getItem(BASE_KEY);
          var localBase = window.localStorage.getItem(BASE_KEY);
          storedBase = sessionBase || localBase || '/';
        } catch (error) {
          storedBase = '/';
        }

        var normalize = function (value) {
          if (typeof value !== 'string') return '/';
          var trimmed = value.trim();
          if (!trimmed) return '/';
          return trimmed.endsWith('/') ? trimmed : trimmed + '/';
        };

        var baseCandidates = [];
        var repoBase = '/Image-Editor-2/';
        if (path.startsWith(repoBase) && !baseCandidates.includes(repoBase)) {
          baseCandidates.push(repoBase);
        }
        var normalizedStored = normalize(storedBase);
        if (normalizedStored && !baseCandidates.includes(normalizedStored)) {
          baseCandidates.push(normalizedStored);
        }
        if (!baseCandidates.includes('/')) {
          baseCandidates.push('/');
        }
        var segments = path.split('/').filter(Boolean);
        if (segments.length > 0) {
          var firstSegmentBase = normalize('/' + segments[0] + '/');
          if (!baseCandidates.includes(firstSegmentBase)) {
            baseCandidates.push(firstSegmentBase);
          }
        }

        var targetBase = '/';
        for (var index = 0; index < baseCandidates.length; index += 1) {
          var candidate = baseCandidates[index];
          if (!candidate) continue;
          var normalizedCandidate = normalize(candidate);
          if (
            normalizedCandidate === '/' ||
            path === normalizedCandidate.slice(0, -1) ||
            path.startsWith(normalizedCandidate)
          ) {
            targetBase = normalizedCandidate;
            break;
          }
        }

        if (targetBase && typeof targetBase === 'string') {
          var withoutTrailing = targetBase.endsWith('/') ? targetBase.slice(0, -1) : targetBase;
          if (withoutTrailing && withoutTrailing !== '/' && !path.startsWith(targetBase)) {
            targetBase = '/';
          }
        }

        if (!targetBase || typeof targetBase !== 'string') {
          targetBase = '/';
        }

        if (!targetBase.endsWith('/')) {
          targetBase += '/';
        }

        if (path !== targetBase && path !== targetBase.slice(0, -1)) {
          window.location.replace(targetBase);
        }
      })();
    </script>
  </head>
  <body>
    <main>
      <h1>요청하신 페이지를 찾지 못했습니다.</h1>
      <p>잠시 후 홈으로 이동합니다.</p>
      <p><a href="/">홈으로 이동</a></p>
    </main>
  </body>
</html>
